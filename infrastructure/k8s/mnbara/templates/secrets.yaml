{{- if not .Values.secrets.database.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mnbara.fullname" . }}-database
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "mnbara.labels" . | nindent 4 }}
type: Opaque
data:
  postgres-password: {{ .Values.secrets.database.postgresPassword | b64enc | quote }}
  password: {{ .Values.secrets.database.userPassword | b64enc | quote }}
---
{{- end }}
{{- if not .Values.secrets.redis.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mnbara.fullname" . }}-redis
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "mnbara.labels" . | nindent 4 }}
type: Opaque
data:
  redis-password: {{ .Values.secrets.redis.password | b64enc | quote }}
---
{{- end }}
{{- if not .Values.secrets.rabbitmq.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mnbara.fullname" . }}-rabbitmq
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "mnbara.labels" . | nindent 4 }}
type: Opaque
data:
  rabbitmq-password: {{ .Values.secrets.rabbitmq.password | b64enc | quote }}
---
{{- end }}
{{- if not .Values.secrets.jwt.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mnbara.fullname" . }}-jwt
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "mnbara.labels" . | nindent 4 }}
type: Opaque
data:
  jwt-secret: {{ .Values.secrets.jwt.secret | b64enc | quote }}
---
{{- end }}
{{- if not .Values.secrets.stripe.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mnbara.fullname" . }}-stripe
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "mnbara.labels" . | nindent 4 }}
type: Opaque
data:
  secret-key: {{ .Values.secrets.stripe.secretKey | b64enc | quote }}
  webhook-secret: {{ .Values.secrets.stripe.webhookSecret | b64enc | quote }}
---
{{- end }}
{{- if not .Values.secrets.paypal.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mnbara.fullname" . }}-paypal
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "mnbara.labels" . | nindent 4 }}
type: Opaque
data:
  client-id: {{ .Values.secrets.paypal.clientId | b64enc | quote }}
  secret: {{ .Values.secrets.paypal.secret | b64enc | quote }}
---
{{- end }}
{{- if not .Values.secrets.oauth.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mnbara.fullname" . }}-oauth
  namespace: {{ .Values.namespace }}
  labels:
    {{- include "mnbara.labels" . | nindent 4 }}
type: Opaque
data:
  google-client-id: {{ .Values.secrets.oauth.googleClientId | b64enc | quote }}
  google-client-secret: {{ .Values.secrets.oauth.googleClientSecret | b64enc | quote }}
  apple-client-id: {{ .Values.secrets.oauth.appleClientId | b64enc | quote }}
  apple-client-secret: {{ .Values.secrets.oauth.appleClientSecret | b64enc | quote }}
{{- end }}
